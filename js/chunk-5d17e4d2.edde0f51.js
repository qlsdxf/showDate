(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d17e4d2"],{4386:function(e,t,s){"use strict";s("b073")},b073:function(e,t,s){},e4e5:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"table"},[s("div",{staticClass:"crumbs"},[s("el-breadcrumb",[s("el-breadcrumb-item",[s("i",{staticClass:"el-icon-tickets"},[e._v("审核情况")])])],1),s("div",{staticClass:"cantainer"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,"tooltip-effect":"dark"}},[s("el-table-column",{attrs:{prop:"messageCreateTime",label:"消息发送时间",width:"180"}}),s("el-table-column",{attrs:{prop:"messageContent",label:"内容"}}),s("el-table-column",{attrs:{prop:"messageType",label:"消息类型","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("getType")(t.row.messageType,t.row.messageType))+" ")]}}])}),s("el-table-column",{attrs:{prop:"messageStatus",label:"消息状态",sortable:"",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("getStatus")(t.row.messageStatus,t.row.messageStatus))+" ")]}}])}),s("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini",type:"message"},on:{click:function(s){return e.read(t.row)}}},[e._v("确认读取")]),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.del(t.row)}}},[e._v("删除消息")])]}}])})],1),s("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:" prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},n=[],i={mounted:function(){this.pharmacy=JSON.parse(localStorage.getItem("pharmacy")),void 0!=this.doctor&&null!=this.doctor||this.$router.push("/merchantLogin"),this.getMessage()},data:function(){return{list:[],totalNum:0,pharmacy:{},dialogFormVisible:!1,ListSearch:"",editFormVisible:!1,ruleForm:{},doctor:{},doctorCertificates:[],form:{name:"",date:"",address:""},editForm:{name:"",date:"",address:""},addLoading:!1,currentPage:1,pageSize:5,content:""}},created:function(){},filters:{getType:function(e){return 6==e?"举报消息":"发货消息"},getStatus:function(e){return 0==e?"未读":"已读"}},methods:{search:function(){this.content=this.ListSearch,this.getMessage(),this.pageNum=1},read:function(e){var t=this;if(1==e.messageStatus)this.$message.success("该消息确认已读");else{var s={messageStatus:"1",messageId:e.messageId};this.$axios.post("/api/message/provide/message/updateMessage",s).then((function(e){t.$message.success("确认已读"),t.getMessage()}))}},del:function(e){var t=this;if(2==e.messageStatus)this.$message.success("该消息确认已读");else{var s={messageStatus:"2",messageId:e.messageId};this.$axios.post("/api/message/provide/message/updateMessage",s).then((function(e){t.$message.success("删除成功！！！"),t.getMessage()}))}},getMessage:function(){var e=this,t={pageNum:this.currentPage,pageSize:this.pageSize,messageType:"1,6",messageGet:this.pharmacy.pharmacyId};this.$axios.post("/api/message/provide/message/getAMessageBuyType",t).then((function(t){e.list=t.data.data.records,e.currentPage=t.data.data.current,e.totalNum=t.data.data.total,console.log(t.data.data),console.log(e.totalNum)}))},handleSizeChange:function(e){this.pageSize=e,this.getMessage()},handleCurrentChange:function(e){this.currentPage=e,this.getMessage()},handleEdit:function(e,t){this.$router.push("/docChangeMessage")}}},r=i,o=(s("4386"),s("2877")),c=Object(o["a"])(r,a,n,!1,null,"504c40aa",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-5d17e4d2.edde0f51.js.map