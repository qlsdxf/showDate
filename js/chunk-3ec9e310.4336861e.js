(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ec9e310"],{"45aa":function(e,t,s){"use strict";s("7355")},7355:function(e,t,s){},"75c1":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"table"},[s("div",{staticClass:"crumbs"},[s("el-breadcrumb",[s("el-breadcrumb-item",[s("i",{staticClass:"el-icon-tickets"},[e._v("所有用户")])])],1),s("div",{staticClass:"cantainer"},[s("div",{staticClass:"handle-box"},[s("el-input",{staticClass:"search-input",attrs:{placeholder:"筛选关键词",size:"small"},model:{value:e.ListSearch,callback:function(t){e.ListSearch=t},expression:"ListSearch"}}),s("el-button",{staticClass:"handle-del mr10",staticStyle:{"margin-left":"5px",height:"35px","margin-top":"8px"},attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,"tooltip-effect":"dark"}},[s("el-table-column",{attrs:{prop:"userName",label:"用户名称",width:"200"}}),s("el-table-column",{attrs:{prop:"userAge",label:"用户年龄",width:"120"}}),s("el-table-column",{attrs:{prop:"userPhone",label:"用户电话",width:"120"}}),s("el-table-column",{attrs:{prop:"userSex",label:"用户性别",sortable:"",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("getSex")(t.row.userSex,t.row.userSex))+" ")]}}])}),s("el-table-column",{attrs:{prop:"userDetailedAddress",label:"用户地址",sortable:"",width:"250","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"userStatus",label:"用户状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("getStatus")(t.row.userStatus,t.row.userStatus))+" ")]}}])}),s("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"show",rawName:"v-show",value:0==t.row.userStatus,expression:"scope.row.userStatus == 0"}],attrs:{size:"mini"},on:{click:function(s){return e.banUser(t.row,1)}}},[e._v("封号")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:-1==t.row.userStatus,expression:"scope.row.userStatus == -1"}],attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.banUser(t.row,2)}}},[e._v("解除封禁")])]}}])})],1),s("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},r=[],n={mounted:function(){this.getAllUser()},data:function(){return{list:[],totalNum:0,dialogFormVisible:!1,ListSearch:"",editFormVisible:!1,ruleForm:{},form:{name:"",date:"",address:""},editForm:{name:"",date:"",address:""},addLoading:!1,currentPage:1,pageSize:5,content:""}},created:function(){},filters:{getSex:function(e){return"1"==e?"男":"女"},getStatus:function(e){return 1==e?"封号":"正常"}},methods:{search:function(){this.content=this.ListSearch,this.getAllUser(),this.pageNum=1},getAllUser:function(){var e=this,t={content:this.content,pageNum:this.currentPage,pageSize:this.pageSize,userStatus:0};this.$axios.post("/api/message/provide/user/getAllUser",t).then((function(t){e.list=t.data.data.records,e.currentPage=t.data.data.current,e.totalNum=t.data.data.total,console.log(e.list),e.$message.success(t.data.message)}))},handleSizeChange:function(e){this.pageSize=e,this.getDrug()},handleCurrentChange:function(e){this.currentPage=e,this.getDrug()},handleEdit:function(e,t,s){var a=this,r={userId:t.userId,userStatus:s};this.$axios.post("/api/message/provide/user/updateUser",r).then((function(e){200==e.data.code&&(1==s?a.$message.success("封号成功！！！，该账号已被封禁"):a.$message.success("解封成功！！！"))}))},banUser:function(e,t){var s=this,a={userId:e.userId,userPhone:e.userPhone,hour:3,type:t};this.$axios.post("/api/message/provide/user/banUser",a).then((function(e){1==t?s.$message.success("成功封号"):s.$message.success("解封成功"),s.getAllUser()}))}}},i=n,u=(s("45aa"),s("2877")),o=Object(u["a"])(i,a,r,!1,null,"b8ce5e12",null);t["default"]=o.exports}}]);
//# sourceMappingURL=chunk-3ec9e310.4336861e.js.map