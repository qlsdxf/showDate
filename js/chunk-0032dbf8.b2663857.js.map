{"version":3,"sources":["webpack:///./src/components/back/doctor/page/AllUserMessage.vue?b988","webpack:///./src/components/back/doctor/page/AllUserMessage.vue?b2d3","webpack:///src/components/back/doctor/page/AllUserMessage.vue","webpack:///./src/components/back/doctor/page/AllUserMessage.vue?63b8","webpack:///./src/components/back/doctor/page/AllUserMessage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","staticClass","attrs","activeIndex","on","handleSelect","_v","totalNum","_e","_l","index","item","key","nativeOn","$event","goToChat","userAvatar","_s","userName","chatContent","num","chatCreateTime","currentPage","pageSize","handleSizeChange","handleCurrentChange","staticRenderFns","name","mounted","data","Number2","userMessage","doctor","store","methods","keyPath","console","showDetail","pharmacyId","path","query","doctorId","userId","window","getAllUserMessage","component"],"mappings":"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","file":"js/chunk-0032dbf8.b2663857.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllUserMessage.vue?vue&type=style&index=0&id=b2a41d94&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"width\":\"60%\",\"text-align\":\"left\",\"margin-left\":\"20%\"}},[_c('el-menu',{staticClass:\"el-menu-demo\",attrs:{\"default-active\":_vm.activeIndex,\"mode\":\"horizontal\"},on:{\"select\":_vm.handleSelect}},[_c('el-menu-item',{attrs:{\"index\":\"1\"}},[_vm._v(\"未读消息\")]),_c('el-menu-item',{attrs:{\"index\":\"2\"}},[_vm._v(\"已读消息\")])],1)],1),(_vm.totalNum == 0)?_c('div',[_c('el-empty',{attrs:{\"description\":\"描述文字\"}})],1):_vm._e(),(_vm.totalNum > 0)?_c('div',[_c('div',{staticStyle:{\"width\":\"60%\",\"margin-left\":\"20%\",\"min-height\":\"390px\"}},_vm._l((_vm.userMessage),function(index,item){return _c('div',{key:item,attrs:{\"span\":4}},[_c('el-card',{staticClass:\"hov\",staticStyle:{\"width\":\"100%\",\"height\":\"100px\",\"margin-top\":\"15px\"},nativeOn:{\"click\":function($event){return _vm.goToChat(index)}}},[_c('div',{staticStyle:{\"float\":\"left\",\"width\":\"120px\"}},[_c('el-avatar',{attrs:{\"src\":index.userAvatar,\"size\":100}})],1),_c('div',{staticStyle:{\"float\":\"left\",\"width\":\"450px\"}},[_c('div',{staticStyle:{\"margin-top\":\"25px\"}},[_c('h3',[_vm._v(_vm._s(index.userName))])]),_c('div',{staticStyle:{\"margin-top\":\"15px\",\"font-size\":\"12px\",\"color\":\"#B0B0B0\"}},[_c('span',[_vm._v(_vm._s(index.chatContent))])])]),_c('div',[(_vm.activeIndex == 1)?_c('div',{staticStyle:{\"width\":\"100%\",\"text-align\":\"center\",\"height\":\"20px\",\"margin-top\":\"30px\"}},[(_vm.activeIndex == 1)?_c('el-badge',{staticClass:\"item\",attrs:{\"value\":index.num,\"max\":99,\"size\":100}}):_vm._e()],1):_vm._e(),_c('div',{staticStyle:{\"font-size\":\"12px\",\"color\":\"#B0B0B0\",\"margin-top\":\"10px\"}},[_c('span',[_vm._v(_vm._s(index.chatCreateTime))])])])])],1)}),0)]):_vm._e(),_c('el-pagination',{staticStyle:{\"width\":\"100%\",\"height\":\"100px\",\"text-align\":\"center\"},attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"prev, pager, next\",\"total\":_vm.totalNum},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div style=\"width: 60%;text-align: left;margin-left: 20%;\">\r\n            <el-menu :default-active=\"activeIndex\" class=\"el-menu-demo\" mode=\"horizontal\" @select=\"handleSelect\">\r\n                <el-menu-item index=\"1\">未读消息</el-menu-item>\r\n                <el-menu-item  index=\"2\">已读消息</el-menu-item >\r\n            </el-menu>\r\n        </div>\r\n        <div v-if=\"totalNum == 0\" >\r\n            <el-empty description=\"描述文字\"></el-empty>\r\n        </div>\r\n        <div v-if=\"totalNum > 0\">\r\n            <div style=\"width: 60%;margin-left: 20%;min-height: 390px\" >\r\n                <div :span=\"4\" v-for=\"(index, item) in userMessage\" :key=\"item\" >\r\n                    <el-card   style=\"width: 100%;height: 100px;margin-top: 15px;\" class=\"hov\" @click.native=\"goToChat(index)\">\r\n                        <div style=\"float: left;width: 120px\">\r\n                            <!--http://124.222.128.245:955/image/head89d95406.jpg-->\r\n                            <el-avatar :src=\"index.userAvatar\" :size=\"100\"></el-avatar>\r\n                        </div>\r\n                        <div style=\"float: left;width: 450px;\">\r\n                            <div style=\"margin-top: 25px\">\r\n                                <h3>{{index.userName}}</h3>\r\n                            </div>\r\n                            <div style=\"margin-top: 15px;font-size: 12px;color: #B0B0B0\">\r\n                                <span>{{index.chatContent}}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div >\r\n                            <div style=\"width: 100%;text-align: center;height: 20px;margin-top: 30px\" v-if=\"activeIndex == 1\">\r\n                                <el-badge :value=\"index.num\" :max=\"99\" :size=\"100\" class=\"item\" v-if=\"activeIndex == 1\">\r\n                                </el-badge>\r\n                            </div>\r\n                            <div style=\"font-size: 12px;color: #B0B0B0;margin-top: 10px\">\r\n                                <span>{{index.chatCreateTime}}</span>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </el-card>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <el-pagination\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"currentPage\"\r\n                :page-size=\"pageSize\"\r\n                layout=\"prev, pager, next\"\r\n                style=\"width: 100%;height: 100px;text-align: center \"\r\n                :total=\"totalNum\">\r\n        </el-pagination>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"user-message\",\r\n        mounted(){\r\n            this.doctor = JSON.parse(localStorage.getItem(\"doctor\"))\r\n            if (this.doctor == undefined || this.doctor == null) {\r\n                this.$router.push(\"/doctorLogin\")\r\n            }\r\n            this.getAllUserMessage();\r\n        },\r\n        data(){\r\n            return {\r\n                Number2:1,\r\n                activeIndex:\"1\",\r\n                userMessage:[],\r\n                doctor:{},\r\n                store:[],\r\n                currentPage:1,\r\n                pageSize:5,\r\n                totalNum:0\r\n            }\r\n        },\r\n        methods:{\r\n            handleSelect(key, keyPath) {\r\n                console.log(key);\r\n                this.activeIndex = key;\r\n                this.getAllUserMessage();\r\n            },\r\n\r\n            // 初始页currentPage、初始每页数据数pagesize和数据data\r\n            handleSizeChange: function (size) {\r\n                this.pageSize = size;\r\n                this.getAllPharmacy();\r\n            },\r\n            handleCurrentChange: function(currentPage){\r\n                this.currentPage = currentPage;\r\n                this.getAllPharmacy();\r\n            },\r\n            showDetail(pharmacyId){\r\n\r\n            },\r\n            goToChat(item){\r\n                const {href} = this.$router.resolve({\r\n                    path: '/doctorChat',\r\n                    query: {\r\n                        doctorId:  this.doctor.doctorId,\r\n                        userId:item.chatUserId,\r\n                    }\r\n                })\r\n                window.open(href, '_blank')\r\n            },\r\n            getAllUserMessage(){\r\n\r\n                let data = {\r\n                    'doctorId': this.doctor.doctorId,\r\n                    'pageNum': this.currentPage,\r\n                    'pageSize':this.pageSize,\r\n                    'type': this.activeIndex,\r\n                }\r\n                this.$axios.post(\"/api/message/provide/chat/getMessageChat\",data).then((res)=>{\r\n                    console.log(res.data.data.records)\r\n                    if (res.data.code == 200) {\r\n                        this.totalNum = res.data.data.total\r\n                        this.userMessage = res.data.data.records\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n    /**{*/\r\n        /*padding: 0;*/\r\n        /*margin: 0;*/\r\n    /*}*/\r\n    .el-card ::v-deep .el-card__body {\r\n         padding: 5px;\r\n        padding-bottom: 10px;\r\n         /*background-color: powderblue;*/\r\n     }\r\n\r\n    .hov:hover{\r\n        cursor: pointer;\r\n    }\r\n\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllUserMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllUserMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AllUserMessage.vue?vue&type=template&id=b2a41d94&scoped=true&\"\nimport script from \"./AllUserMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./AllUserMessage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AllUserMessage.vue?vue&type=style&index=0&id=b2a41d94&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b2a41d94\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}