(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c710b4e"],{5972:function(e,t,a){"use strict";a("a1ea")},9798:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"au_to_2",staticStyle:{"text-align":"center",width:"100%"}},[1==e.display?a("el-form",{attrs:{model:e.ruleForm,"label-width":"100px"}},[a("el-row",{staticStyle:{width:"100%"}},[a("el-col",{staticStyle:{"margin-left":"1%",width:"35%"}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"店铺名称"}},[a("el-input",{attrs:{placeholder:"店铺名称"},model:{value:e.ruleForm.pharmacyName,callback:function(t){e.$set(e.ruleForm,"pharmacyName",t)},expression:"ruleForm.pharmacyName"}})],1)],1)]),a("el-col",{staticStyle:{"margin-left":"1%",width:"35%"}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"选则省份"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.provinceCode,expression:"provinceCode"}],on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.provinceCode=t.target.multiple?a:a[0]},e.seleProvince]}},[a("option",{attrs:{disabled:"",value:""}},[e._v("请选择省份")]),e._l(e.province,(function(e){return a("option",{key:e.provinceId,attrs:{label:e.provinceName},domProps:{value:e.provinceId},on:{select:function(e){}}})}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:e.cityCode,expression:"cityCode"}],staticStyle:{"margin-left":"15px"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.cityCode=t.target.multiple?a:a[0]},e.seleCity]}},[a("option",{attrs:{disabled:"",value:""}},[e._v("请选择市")]),e._l(e.city,(function(e){return a("option",{key:e.cityId,attrs:{label:e.name},domProps:{value:e.cityId}})}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:e.countryCode,expression:"countryCode"}],staticStyle:{"margin-left":"15px"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.countryCode=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[e._v("请选择县/区")]),e._l(e.county,(function(e){return a("option",{key:e.countyId,attrs:{label:e.name},domProps:{value:e.countyId}})}))],2)])],1)]),a("el-col",{staticStyle:{"margin-left":"1%",width:"35%"}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"详细地址信息"}},[a("el-input",{attrs:{placeholder:"输入详细地址"},model:{value:e.ruleForm.pharmacyDetailedAddress,callback:function(t){e.$set(e.ruleForm,"pharmacyDetailedAddress",t)},expression:"ruleForm.pharmacyDetailedAddress"}})],1)],1)]),a("el-col",{staticStyle:{"margin-left":"1%",width:"35%"}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"店铺头像"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://124.222.128.245:955/uploadImageFile","show-file-list":!1,accept:"image/jpeg,image/gif,image/png,image/jpg","on-success":e.handleAvatarSuccess_pc}},[e.picUrl?a("img",{staticClass:"avatar",staticStyle:{width:"100px",height:"100px"},attrs:{src:e.picUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon",attrs:{slot:"trigger"},slot:"trigger"})])],1)],1)])],1),a("el-row",{staticStyle:{width:"100%"}},[a("el-col",{attrs:{span:12,offset:2}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.changeMessage}},[e._v("立即修改")])],1)],1)],1)],1):e._e()],1)},r=[],n=a("ade3"),c=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("ac1f"),a("00b4"),{mounted:function(){this.pharmacy=JSON.parse(localStorage.getItem("pharmacy")),this.pharmacy=JSON.parse(localStorage.getItem("pharmacy")),void 0==this.pharmacy&&this.$router.push("/merchantLogin"),this.ruleForm=this.pharmacy,this.businessLicensePic=this.ruleForm.merchantBusinessLicense,this.bankAccountPic=this.ruleForm.merchantBankAccount,this.drugLicensePic=this.ruleForm.merchantDrugLicense,this.idCardPic=this.ruleForm.merchantIdCard,console.log(this.ruleForm)},data:function(){var e;return e={content:"获取验证码",choice:"",pharmacy:{},active:0,avatar:"",picUrl:"",businessLicensePic:"",bankAccountPic:"",drugLicensePic:"",idCardPic:"",runNum:60,id:"",province:[],city:[],county:[],merchantTradeUrl:"",provinceCode:"",cityCode:"",countryCode:"",display:1,display2:1},Object(n["a"])(e,"runNum",60),Object(n["a"])(e,"password2","1999319xjj"),Object(n["a"])(e,"value",""),Object(n["a"])(e,"ruleForm",{pharmacyName:"浅蓝的店铺",pharmacyAddress:"",pharmacyAvatar:"http://124.222.128.245:955/image/logoa06853f7.png",pharmacyDetailedAddress:"北京市市辖区东城区幸福路108号",merchantName:"qlsdxf",merchantPhone:"17807060775",verification:"4856",merchantSex:"",merchantAvatar:"http://124.222.128.245:955/image/head0549c630.jpg",merchantPassword:"1999319xjj",merchantBusinessLicense:"http://124.222.128.245:955/image/营业执照d9b6a2b4.jpg",merchantBankAccount:"http://124.222.128.245:955/image/银行开户a507dab8.jpg",merchantDrugLicense:"http://124.222.128.245:955/image/药品经营许可证0d5d2e12.jpg",merchantIdCardPic:"http://124.222.128.245:955/image/身份证复印件a8f69f75.jpg",merchantIdCard:"362202199903193316",merchantAge:""}),e},methods:{changeMessage:function(){},getVerification:function(){var e=this;if(console.log(this.ruleForm.merchantPhone),""!=this.ruleForm.merchantPhone)if(this.checkPhone()){this.$axios.get("/api/message/provide/verification/send/"+this.ruleForm.merchantPhone).then((function(t){e.$message.success(t.data.message)})),this.display2=2;var t=this,a=setInterval((function(){t.runNum--,t.runNum<=0?(t.content="获取验证码",t.display2=1,t.runNum=60,clearInterval(a)):t.content=t.runNum+"s后重发"}),1e3);this.content="60s后重发"}else this.$message.error("请输入正确的手机号");else this.$message.error("请填写手机号！！！")},handleAvatarSuccess_avatar:function(e,t){this.avatar=URL.createObjectURL(t.raw),this.ruleForm.merchantAvatar=e.data},handleAvatarSuccess_bL:function(e,t){this.businessLicensePic=URL.createObjectURL(t.raw),this.ruleForm.merchantBusinessLicense=e.data},handleAvatarSuccess_pc:function(e,t){this.picUrl=URL.createObjectURL(t.raw),this.ruleForm.pharmacyAvatar=e.data},handleAvatarSuccess_idCard:function(e,t){this.idCardPic=URL.createObjectURL(t.raw),this.ruleForm.merchantIdCardPic=e.data},handleAvatarSuccess_bank:function(e,t){this.bankAccountPic=URL.createObjectURL(t.raw),this.ruleForm.merchantBankAccount=e.data},handleAvatarSuccess_drug:function(e,t){this.drugLicensePic=URL.createObjectURL(t.raw),this.ruleForm.merchantDrugLicense=e.data},merchantRegister:function(){var e=this;this.$refs.loginForm.validate((function(t){if(t){var a="/api/message/provide/merchant/register";e.loginForm.pharmacy.pharmacyStatus=null,e.$axios.post(a,e.loginForm).then((function(t){200==t.data.code?(console.log(t.data),e.$message.success(t.data.message)):(e.$message.error(t.data.message),e.ruleForm.merchantPassword=e.password2)}))}}))},back:function(){this.display=this.display-1,this.active=this.active-1},next:function(){this.display=this.display+1,this.active=this.active+1,2==this.display&&this.getProvince()},resetForm:function(e){this.$refs[e].resetFields()},getProvince:function(){var e=this;this.$axios.post("/api/message/provide/province/getAllProvince").then((function(t){e.province=t.data.data}))},getCity:function(e){var t=this;this.$axios.post("/api/message/provide/city/getCity/"+e).then((function(e){t.city=e.data.data,console.log(e.data),console.log(e.data.data)}))},getCounty:function(e){var t=this;this.$axios.post("/api/message/provide/county/getCounty/"+e).then((function(e){t.county=e.data.data,console.log(e),console.log(e.data.data)}))},seleProvince:function(){console.log(this.provinceCode),this.getCity(this.provinceCode)},seleCity:function(){this.getCounty(this.cityCode)},checkPhone:function(){var e=/^[1][3,4,5,7,8][0-9]{9}$/,t=this.ruleForm.merchantPhone;return!!e.test(t)},sleep:function(e){var t=new Date,a=t.getTime()+e;while(1)if(t=new Date,t.getTime()>a)return}}}),s=c,o=(a("5972"),a("2877")),l=Object(o["a"])(s,i,r,!1,null,"677268bf",null);t["default"]=l.exports},a1ea:function(e,t,a){}}]);
//# sourceMappingURL=chunk-2c710b4e.82a2827e.js.map