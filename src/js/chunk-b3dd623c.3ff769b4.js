(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b3dd623c"],{"943e":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-tickets"},[t._v("所有药品")])])],1),a("div",{staticClass:"cantainer"},[a("div",{staticClass:"handle-box"},[a("el-input",{staticClass:"search-input",attrs:{placeholder:"筛选关键词",size:"small"},model:{value:t.ListSearch,callback:function(e){t.ListSearch=e},expression:"ListSearch"}}),a("el-button",{staticClass:"handle-del mr10",staticStyle:{"margin-left":"5px",height:"35px","margin-top":"8px"},attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"drugId",label:"药品编号",width:"100"}}),a("el-table-column",{attrs:{prop:"drugName",label:"药品名称",width:"200"}}),a("el-table-column",{attrs:{prop:"drugType",label:"药品类型","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"drugIsPrescription",label:"处方类型","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("getType")(e.row.drugIsPrescription,e.row.drugIsPrescription))+" ")]}}])}),a("el-table-column",{attrs:{prop:"drugCratetime",label:"生产日期",sortable:"",width:"120"}}),a("el-table-column",{attrs:{prop:"drugExpiredtime",label:"过期日期",sortable:"",width:"120","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"drugPrice",label:"药品价格","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"drugStatus",label:"药品状态","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("getStatus")(e.row.drugStatus,e.row.drugStatus))+" ")]}}])}),a("el-table-column",{attrs:{prop:"pharmacyName",label:"所属店铺","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"drugPharmacyId",label:"店铺ID","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"merchantName",label:"店铺老板","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("下架")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.deleteList(e.$index,e.row)}}},[t._v("提醒商家")])]}}])})],1),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:" prev, pager, next, jumper",total:t.totalNum},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])},s=[],o={mounted:function(){this.getDrug()},data:function(){return{list:[],totalNum:0,dialogFormVisible:!1,ListSearch:"",editFormVisible:!1,ruleForm:{},form:{name:"",date:"",address:""},editForm:{name:"",date:"",address:""},addLoading:!1,currentPage:1,pageSize:5,content:""}},created:function(){},filters:{getType:function(t){return 1==t?"非处方药":"处方药"},getStatus:function(t){return 0==t?"上架":"未上架"}},methods:{search:function(){this.content=this.ListSearch,this.currentPage=1,this.getDrug()},getDrug:function(){var t=this,e={content:this.content,pageNum:this.currentPage,pageSize:this.pageSize};this.$axios.post("/api/message/provide/drug/getAllAdminDrug",e).then((function(e){t.list=e.data.data.records,t.currentPage=e.data.data.current,t.totalNum=e.data.data.total}))},handleSizeChange:function(t){this.pageSize=t,this.getDrug()},handleCurrentChange:function(t){this.currentPage=t,this.getDrug()},deleteList:function(t,e){var a=this,r={messageContent:"您店铺编号："+e.drugId+"号药品,"+e.drugName+"被用户举报为违法药品，现已下架请及时处理",messageSend:0,messageGet:e.drugPharmacyId,messageOther:e.drugId,messageType:6,messageStatus:0};this.$axios.post("/api/pay/provide/pay/message/allSendMessage",r).then((function(t){a.$message.success("提醒成功！！！")}))},handleEdit:function(t,e){var a=this,r={drugId:e.drugId,drugStatus:1};this.$axios.post("/api/message/provide/drug/updateDrug",r).then((function(t){a.$message.success("下架成功"),a.getDrug()}))}}},l=o,i=(a("e18c"),a("2877")),n=Object(i["a"])(l,r,s,!1,null,"341c67c3",null);e["default"]=n.exports},c1e4:function(t,e,a){},e18c:function(t,e,a){"use strict";a("c1e4")}}]);