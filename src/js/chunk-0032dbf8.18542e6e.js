(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0032dbf8"],{"2b9f":function(t,e,a){"use strict";a("da4c")},da4c:function(t,e,a){},e78f:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{width:"60%","text-align":"left","margin-left":"20%"}},[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelect}},[a("el-menu-item",{attrs:{index:"1"}},[t._v("未读消息")]),a("el-menu-item",{attrs:{index:"2"}},[t._v("已读消息")])],1)],1),0==t.totalNum?a("div",[a("el-empty",{attrs:{description:"描述文字"}})],1):t._e(),t.totalNum>0?a("div",[a("div",{staticStyle:{width:"60%","margin-left":"20%","min-height":"390px"}},t._l(t.userMessage,(function(e,i){return a("div",{key:i,attrs:{span:4}},[a("el-card",{staticClass:"hov",staticStyle:{width:"100%",height:"100px","margin-top":"15px"},nativeOn:{click:function(a){return t.goToChat(e)}}},[a("div",{staticStyle:{float:"left",width:"120px"}},[a("el-avatar",{attrs:{src:e.userAvatar,size:100}})],1),a("div",{staticStyle:{float:"left",width:"450px"}},[a("div",{staticStyle:{"margin-top":"25px"}},[a("h3",[t._v(t._s(e.userName))])]),a("div",{staticStyle:{"margin-top":"15px","font-size":"12px",color:"#B0B0B0"}},[a("span",[t._v(t._s(e.chatContent))])])]),a("div",[1==t.activeIndex?a("div",{staticStyle:{width:"100%","text-align":"center",height:"20px","margin-top":"30px"}},[1==t.activeIndex?a("el-badge",{staticClass:"item",attrs:{value:e.num,max:99,size:100}}):t._e()],1):t._e(),a("div",{staticStyle:{"font-size":"12px",color:"#B0B0B0","margin-top":"10px"}},[a("span",[t._v(t._s(e.chatCreateTime))])])])])],1)})),0)]):t._e(),a("el-pagination",{staticStyle:{width:"100%",height:"100px","text-align":"center"},attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"prev, pager, next",total:t.totalNum},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},n=[],s={name:"user-message",mounted:function(){this.doctor=JSON.parse(localStorage.getItem("doctor")),void 0!=this.doctor&&null!=this.doctor||this.$router.push("/doctorLogin"),this.getAllUserMessage()},data:function(){return{Number2:1,activeIndex:"1",userMessage:[],doctor:{},store:[],currentPage:1,pageSize:5,totalNum:0}},methods:{handleSelect:function(t,e){console.log(t),this.activeIndex=t,this.getAllUserMessage()},handleSizeChange:function(t){this.pageSize=t,this.getAllPharmacy()},handleCurrentChange:function(t){this.currentPage=t,this.getAllPharmacy()},showDetail:function(t){},goToChat:function(t){var e=this.$router.resolve({path:"/doctorChat",query:{doctorId:this.doctor.doctorId,userId:t.chatUserId}}),a=e.href;window.open(a,"_blank")},getAllUserMessage:function(){var t=this,e={doctorId:this.doctor.doctorId,pageNum:this.currentPage,pageSize:this.pageSize,type:this.activeIndex};this.$axios.post("/api/message/provide/chat/getMessageChat",e).then((function(e){console.log(e.data.data.records),200==e.data.code&&(t.totalNum=e.data.data.total,t.userMessage=e.data.data.records)}))}}},o=s,r=(a("2b9f"),a("2877")),c=Object(r["a"])(o,i,n,!1,null,"b2a41d94",null);e["default"]=c.exports}}]);